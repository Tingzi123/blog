title: 操作系统概述
---
1、计算机系统的组成
![Image text](https://github.com/Tingzi123/blog/blob/master/_posts/picture/op1.png?raw=true)

操作系统的地位：
紧贴系统硬件之上，所有其他软件之下
（是其他软件的共同环境）
![Image text](https://github.com/Tingzi123/blog/blob/master/_posts/picture/op2.png?raw=true)

2、操作系统的作用:
(1)OS是计算机硬件、软件资源的管理者
管理的对象：CPU、存储器、外部设备、信息（数
据和软件）；
– 管理的内容：
1、资源的当前状态（数量和使用情况）
2、资源的分配、回收和访问操作
3、相应管理策略（包括用户权限）

(2)OS是用户使用系统硬件、软件的接口。
系统命令（命令行、菜单式、命令脚本式）；
– 系统调用（形式上类似于过程调用，在应用编程
中使用API）；
– 图形用户接口GUI

（3）OS是扩展机(extended machine)/虚拟机(virtual machine)。
在裸机上添加：设备管理、文件管理、存储管理（包括内存和外存）、处理机管理（针对CPU）；
– 另外，为合理组织工作流程：作业管理、进程管理

– 通道：用于控制I/O设备与内存间的数据传输。启动后可
独立于CPU运行，实现CPU与I/O的并行。
• 通道有专用的I/O处理器，可与CPU并行工作
• 可实现 I/O联机处理
– 中断是指CPU在收到外部中断信号后，停止原来工作，转
去处理该中断事件，完毕后回到原来断点继续工作。
• 中断处理过程：中断请求，中断响应，中断点（暂停当前任务并
保存现场），中断处理例程，中断返回（恢复中断点的现场并继续原
有任务

3、通道和中断技术
通道：用于控制I/O设备与内存间的数据传输。启动后可
独立于CPU运行，实现CPU与I/O的并行。 

中断是指CPU在收到外部中断信号后，停止原来工作，转
去处理该中断事件，完毕后回到原来断点继续工作。
• 中断处理过程：中断请求，中断响应，中断点（暂停当前任务并
保存现场），中断处理例程，中断返回（恢复中断点的现场并继续原
有任务


3.1、手工操作
计算机的工作特点
• 用户独占全机：不出现资源被其他用户占用，资源利
用率低；
• CPU等待用户：计算前，手工装入纸带或卡片；计算完
成后，手工卸取纸带或卡片；CPU利用率低；

3.2、单道批处理系统
联机批处理：输入输出设备和主机直接相连，串行工作
脱机批处理：利用卫星机完成输入输出功能。主机与卫星机可
并行工作。
– 卫星机：完成面向用户的输入输出（纸带或卡
片），中间结果暂存在磁带或磁盘上。
– 优点：同一批内各作业的自动依次更替，改善了
主机CPU和I/O设备的使用效率，提高了吞吐量。
– 缺点：磁带或磁盘需要人工装卸，作业需要人工
分类，监督程序易遭到用户程序的破坏（由人工干预
才可恢复）

3.3 多道批处理系统
多道批处理的运行特征
• 多道：内存中同时存放几个作业；
• 宏观上并行运行：都处于运行状态，但都未运行完；
• 微观上串行运行：各作业交替使用CPU；
在当前运行的作业需作I/O处理时，CPU转而执行
另一个作业。
优点：
• 资源利用率高：CPU和内存利用率较高；
• 作业吞吐量大：单位时间内完成的工作总量大；
– 缺点：
• 用户交互性差：整个作业完成后或中间出错时，
才与用户交互，不利于调试和修改；
• 作业平均周转时间长：短作业的周转时间显著
增长；

3.4 分 时 系 统
许多个联机用户同时使用一台计算机系统进行计算的操作
系统称分时操作系统
系统把中央处理器的时间划分成时间片 ，按时间片轮流
把处理机分配给联机作业
– “分时”的含义分时是指多个用户分享使用同一台计算机。
多个程序分时共享硬件和软件资源
– 人机交互性好：在调试和运行程序时由用户自己
操作。
– 共享主机：多个用户同时使用。
– 用户独立性：对每个用户而言好象独占主机

3.5 实 时 系 统
– 要求：响应时间短，在规定的时间之内（s, ms, 
us）；系统可靠性高

3.6 通用操作系统
目前的操作系统，通常具有分时、实时和批处理
功能，又称作通用操作系统。

4、操作系统的分类
4.1 批处理操作系统
批处理系统中作业处理及状态：
![Image text](https://github.com/Tingzi123/blog/blob/master/_posts/picture/op3.png?raw=true)

单道和多道批处理的比较
![Image text](https://github.com/Tingzi123/blog/blob/master/_posts/picture/op4.png?raw=true)


– 多道程序系统和多重处理系统(multi-processing 
system)的区别：
• 前者指多个程序同时在内存中交替运行
• 后者指多个处理器

多道批处理系统上的技术
– 作业调度：作业的现场保存和恢复－－上下文切换
– 资源共享：资源的竞争和同步－－互斥(exclusion)
和同步(synchronization)机制
– 内存使用：提高内存使用效率（为当前由CPU执行
的程序提供足够的内存）－－覆盖(overlay)，交换
(swap)和虚拟存储(virtual memory)
– 内存保护：系统存储区和各应用程序存储区不可冲
突－－存储保护

4.2 分时操作系统
– 多路性：多个用户同时工作。
– 独立性：各用户独立操作，互不干扰。
– 交互性：系统能及时对用户的操作进行响应，显
著提高调试和修改程序的效率：缩短了周转时间。
（对批处理的改进）

4.3 实时操作系统
– 实时操作系统主要用于过程控制、事务处理等有
实时要求的领域，其主要特征是实时性和可靠性

5、 操作系统的特征
5.1 并 发 ( c o n c u r r e n c y )
– 多个事件在同一时间段内发生。操作系统是一个并
发系统，各进程间的并发，系统与应用间的并发。操作
系统要完成这些并发过程的管理。并行(parallel)是指
在同一时刻发生。
– 在多道程序处理时，宏观上并发，微观上交替执行
（在单处理器情况下）。
– 程序的静态实体是可执行文件，而动态实体是进程
（或称作任务），并发指的是进程。
 
 5.2 共 享 (sharing)
 多个进程共享有限的计算机系统资源。操作系统要
对系统资源进行合理分配和使用。资源在一个时间段内
交替被多个进程所用。
– 互斥共享（如视频设备）：资源分配后到释放前，
不能被其他进程所用

5.3 虚 拟 (virtual)
– 一个物理实体映射为若干个对应的逻辑实体－－分
时或分空间。虚拟是操作系统管理系统资源的重要手段，
可提高资源利用率

5.4 异步性 ( asynchronism )
– 也称不确定性，指进程的执行顺序和执行时间的不
确定性；
– 进程的运行速度不可预知：分时系统中，多个进程
并发执行，程序是以走走停停的方式运行的。系统中的
每个程序何时执行，执行顺序，完成时间都是不确定的。

6、操作系统的功能
6.1 处 理 机 管 理
– 完成处理机资源的分配调度等功能。处理机调度的
单位可为进程或线程。
– 进程控制：创建、撤销、状态转换
– 进程同步：对并发执行的进程进行协调
– 进程通信：负责完成进程间的信息交换
– 进程调度：按一定算法进行处理机分配

6.2 存 储 管 理
– 内存分配：按一定的策略分配内存并负责回收
– 内存保护：保证进程间互不干扰、相互保密
– 地址变换：进程逻辑地址到内存物理地址的映射；
– 内存扩充：为允许大型作业或多个作业运行，借助
虚拟技术获得更大逻辑内存的效果；

6.3 设备管理
– 设备分配：为了使设备与主机并行工作，一定的分
配原则对设备进行分配，常采用缓冲技术和虚拟技术
– 设备传输控制：实现物理的输入/输出操作
– 设备独立性：用户向系统申请的设备和实际操作的
设备无关

6.4 文 件 管 理
– 文件存储空间管理：存储空间的分配和回收。
– 目录管理：解决信息检索问题。
– 文件操作管理：实现文件的操作，负责完成数据的
读写
– 文件保护：提供文件保护功能，防止文件遭到破坏